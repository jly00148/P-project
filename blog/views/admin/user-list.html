{% extends './layout.html' %}
{% block head %}
    用户列表
{% endblock %}

{% block content %}
<div class="table-box">
    <table class="table table-striped">
        <thead>
            <tr class=""options>
                <th>用户ID</th>
                <th>用户名</th>
                <th>是否管理员</th>
            </tr>
        </thead>
        <tbody>
            {% for key,val in users %}
            <tr>
                <td>{{ val._id.toString() }}</td>
                <td>{{ val.username }}</td>
                <td>
                    {% if val.isAdmin %}
                        是
                    {% else %}
                        否
                    {% endif %} 
                </td>
            </tr>
            {% endfor %}
        </tbody>        
    </table>
</div>    
    <nav aria-label="Page navigation">
        <ul class="pagination">
          <li>
              {% if page == 1 %}
            <a href="javascript:;" aria-label="Previous"> <!-- 防多次点击发送ajax -->
                {% else %}
                <a href="/admin/users?page={{ page - 1 }}" aria-label="Previous">
                {% endif %}
              <span aria-hidden="true">&laquo;</span>
            </a>
          </li>

          {% for i in list %}
          {% if i == page %}
          <li class="active"><a href="javascript:;">{{ i }}</a></li> <!-- 防多次点击发送ajax -->
          {% else %}
          <li><a href="/admin/users?page={{ i }}">{{ i }}</a></li>
          {% endif %}
          {% endfor %}

          <li>
            {% if page == pages %}
            <a href="javascript:;" aria-label="Next"> <!-- 防多次点击发送ajax -->
                {% else %}
            <a href="/admin/users?page={{ page +1 }}" aria-label="Next">
                {% endif %}
              <span aria-hidden="true">&raquo;</span>
            </a>
          </li>
        </ul>
      </nav>    
{% endblock %}
